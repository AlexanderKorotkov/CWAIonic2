<ion-header>
  <ion-navbar>
    <ion-title>Worker details</ion-title>
  </ion-navbar>
</ion-header>


<ion-content >

  <ion-list *ngIf="worker">

    <ion-item>
      <button *ngIf="currentUser?.role && worker" padding ion-button color="primary" block type="button" [navPush]="editPage">Edit</button>
    </ion-item>
    <ion-item>
      <ion-avatar item-left>
        <img [src]="worker.avatar?.imageThumbUrl || imgService.default_image" (error)="imgService.updateUrl(worker.avatar)" >
      </ion-avatar>
      <h2>{{worker.name}}</h2>
      <p>{{worker.surname}}</p>
    </ion-item>
  </ion-list>

  <ion-list *ngIf="worker">
    <ion-list-header>
      Contacts
    </ion-list-header>
    <ion-item>
      <ion-icon name="mail" item-left></ion-icon>
      <a class="list-link" [href]="sanitize('mailto:' + worker.email)">
        {{worker.email}}
      </a>
    </ion-item>
    <ion-item>
      <ion-icon name="phone-portrait" item-left></ion-icon>
      <a class="list-link" [href]="sanitize('tel:' + worker.phone)">
        {{worker.phone}}
      </a>
    </ion-item>
    <ion-item>
      <ion-icon name="logo-skype" item-left></ion-icon>
      <a class="list-link" [href]="sanitize('skype:' + worker.skype +'?chat')">
        {{worker.skype}}
      </a>
    </ion-item>
  </ion-list>
  <ion-list *ngIf="worker">
    <ion-list-header>
      Info
    </ion-list-header>
    <ion-item>
      <ion-icon name="school" item-left></ion-icon>
        {{worker.position}}
    </ion-item>
    <ion-item>
      <ion-icon name="flask" item-left></ion-icon>
        {{worker.project}}
    </ion-item>
    <ion-item >
      <ion-icon name="happy" item-left></ion-icon>
      <a *ngIf="worker.bDay" class="list-link" (click)="createCalendarBDayEvent(worker.bDay)" href="javascript://">
        {{worker.bDay}}
      </a>
    </ion-item>
  </ion-list>
</ion-content>

