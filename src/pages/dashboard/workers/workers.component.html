<ion-header>
  <ion-navbar>
    <ion-title>Workers List</ion-title>
  </ion-navbar>
</ion-header>

<ion-content >

  <ion-list *ngIf="workers">
    <button *ngIf="currentUser?.role && worker" ion-button color="primary" block type="button" [navPush]="editPage">Edit</button>
    <button *ngIf="currentUser.role" ion-button color="primary" type="button" block icon-left [navPush]="addWorkerPage" [navParams]="{url : '/addWorker'}">
      <ion-icon name='people'></ion-icon>
      Add a new User
    </button>
    <ion-item *ngIf="workers && workers.length !== 0 && currentUser.role" (click)="showDeleteButton()">
      <ion-label>Show remove button </ion-label>
      <ion-toggle checked="canDelete" ></ion-toggle>
    </ion-item>
  </ion-list>

  <ion-list *ngFor="let worker of workers">
        <worker [worker]="worker" [canDelete]="canDelete" (deleteWorker)="deleteWorker($event)" (goToWorkerDetails)="goToWorkerDetails($event)"></worker>
  </ion-list>

</ion-content>

